<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Python code translator 2 to 3 | Pranav Gore</title>
<meta name=keywords content>
<meta name=description content="Upgrade today!!   Let&rsquo;s talk about Python 2to3 , an automated code translator. This is a great tool to convert your python2 project to python3.
 Why you should move to python 3.x? Checkout https://pythonclock.org/ (If that link is no more available, I have added the screenshot below)   Python 2 reached end of life (EOL) on January 1st, 2020   And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).">
<meta name=author content>
<link rel=canonical href=https://pranavgore09.github.io/blogs/2to3/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.90.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="Python code translator 2 to 3">
<meta property="og:description" content="Upgrade today!!   Let&rsquo;s talk about Python 2to3 , an automated code translator. This is a great tool to convert your python2 project to python3.
 Why you should move to python 3.x? Checkout https://pythonclock.org/ (If that link is no more available, I have added the screenshot below)   Python 2 reached end of life (EOL) on January 1st, 2020   And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).">
<meta property="og:type" content="article">
<meta property="og:url" content="https://pranavgore09.github.io/blogs/2to3/"><meta property="og:image" content="https://pranavgore09.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="blogs">
<meta property="article:published_time" content="2020-05-27T22:41:00+05:30">
<meta property="article:modified_time" content="2020-05-27T22:41:00+05:30"><meta property="og:site_name" content="Pranav Gore">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://pranavgore09.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Python code translator 2 to 3">
<meta name=twitter:description content="Upgrade today!!   Let&rsquo;s talk about Python 2to3 , an automated code translator. This is a great tool to convert your python2 project to python3.
 Why you should move to python 3.x? Checkout https://pythonclock.org/ (If that link is no more available, I have added the screenshot below)   Python 2 reached end of life (EOL) on January 1st, 2020   And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://pranavgore09.github.io/blogs/"},{"@type":"ListItem","position":2,"name":"Python code translator 2 to 3","item":"https://pranavgore09.github.io/blogs/2to3/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python code translator 2 to 3","name":"Python code translator 2 to 3","description":"Upgrade today!!   Let\u0026rsquo;s talk about Python 2to3 , an automated code translator. This is a great tool to convert your python2 project to python3.\n Why you should move to python 3.x? Checkout https://pythonclock.org/ (If that link is no more available, I have added the screenshot below)   Python 2 reached end of life (EOL) on January 1st, 2020   And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).","keywords":[],"articleBody":" Upgrade today!!   Let‚Äôs talk about Python 2to3 , an automated code translator. This is a great tool to convert your python2 project to python3.\n Why you should move to python 3.x? Checkout https://pythonclock.org/ (If that link is no more available, I have added the screenshot below)   Python 2 reached end of life (EOL) on January 1st, 2020   And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).\nSo, let‚Äôs take a look at how to use 2to3 to actually upgrade the code itself.\n Let‚Äôs start with a simple example 2to3 example.py Nothing fancy, It will just print the code changes to be done in example.py to make it compatible with python3.x We will add -W to make it actually edit the file.\nMore useful example is to upgrade the whole project, we will see it in sometime.\nBut before going ahead, please make sure that you are using some kind of version control for your project (e.g git). So that we don‚Äôt need to worry about old code. Just rely on version control system.\nFirst, create a new branch for making the changes\ngit checkout -b pg/code_upgrade_python3 Now, you don‚Äôt need to worry about any code changes since all the changes we make will reside in this branch only.\nExecute following to get a glimpse\n2to3 --output-dir=./python3_version -W -n ./ This will consider all .py files in current directory and upgrade it for python3.x then put all the changes into python3_version directory. Take a look at files in python3_version. Once satisfied with the changes remove that directory rm -rf ./python3_version\nNow, replace the files with new code\n2to3 --output-dir=./ -W -n ./ For upgrading requirements/dependencies, I would suggest you to create a new virtual environment first. I use virtual environment wrapper mkvirtualenv --python=/usr/local/bin/python3.6 project_python3 Create a temp file file with all requirements without specifying the version\nvim /tmp/req After adding all requirements to temp file, execute following\npip3 install -r /tmp/req Now, your new environment is ready for testing. Perform all possible tests on your upgraded codebase and then add few more test cases :laughing:\nExecute following to update your requirements.txt with correct version numbers\npip freeze  path_to_requirements  Make sure to use version control for project and new virtual environment while upgrading the requirements. Welcome to python3 world!\n  .center { font-size: 60px; line-height: 2; vertical-align: middle; text-align: center; }   üèÜ ","wordCount":"396","inLanguage":"en","datePublished":"2020-05-27T22:41:00+05:30","dateModified":"2020-05-27T22:41:00+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"https://pranavgore09.github.io/blogs/2to3/"},"publisher":{"@type":"Organization","name":"Pranav Gore","logo":{"@type":"ImageObject","url":"https://pranavgore09.github.io/%3Clink%20/%20abs%20url%3E"}}}</script>
</head>
<body class=dark id=top>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://pranavgore09.github.io/ accesskey=h title="Pranav Gore (Alt + H)">Pranav Gore</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=https://pranavgore09.github.io/about/ title=about>
<span>about</span>
</a>
</li>
<li>
<a href=https://pranavgore09.github.io/contact/ title=contact>
<span>contact</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://pranavgore09.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://pranavgore09.github.io/blogs/>Blogs</a></div>
<h1 class=post-title>
Python code translator 2 to 3
</h1>
<div class=post-meta><span title="2020-05-27 22:41:00 +0530 IST">May 27, 2020</span>
</div>
</header>
<div class=post-content><p><figure class=center>
<img loading=lazy src=/img/for_blogs/upgrade.jpg> <figcaption>
Upgrade today!!
</figcaption>
</figure>
Let&rsquo;s talk about Python <a href=https://docs.python.org/3/library/2to3.html>2to3</a>
, an automated code translator. This is a great tool to convert your python2 project to python3.</p>
<hr>
<h2 id=why-you-should-move-to-python-3x>Why you should move to python 3.x?<a hidden class=anchor aria-hidden=true href=#why-you-should-move-to-python-3x>#</a></h2>
<p>Checkout <a href=https://pythonclock.org/>https://pythonclock.org/</a>
(If that link is no more available, I have added the screenshot below)
<figure>
<img loading=lazy src=/img/for_blogs/python27_retire.png> <figcaption>
Python 2 reached end of life (EOL) on January 1st, 2020
</figcaption>
</figure>
</p>
<p>And python3 supports typing (:heart_eyes:) and a lot more (will cover it some other time).</p>
<p>So, let&rsquo;s take a look at how to use 2to3 to actually upgrade the code itself.</p>
<hr>
<h2 id=lets-start-with-a-simple-example>Let&rsquo;s start with a simple example<a hidden class=anchor aria-hidden=true href=#lets-start-with-a-simple-example>#</a></h2>
<pre tabindex=0><code>2to3 example.py
</code></pre><p>Nothing fancy, It will just print the code changes to be done in example.py to make it compatible with python3.x
We will add <code>-W</code> to make it actually edit the file.</p>
<p>More useful example is to upgrade the whole project, we will see it in sometime.</p>
<p>But before going ahead, please make sure that you are using some kind of version control for your project (e.g> git).
So that we don&rsquo;t need to worry about old code. Just rely on version control system.</p>
<p>First, create a new branch for making the changes</p>
<pre tabindex=0><code>git checkout -b pg/code_upgrade_python3
</code></pre><p>Now, you don&rsquo;t need to worry about any code changes since all the changes we make will reside in this branch only.</p>
<p>Execute following to get a glimpse</p>
<pre tabindex=0><code>2to3 --output-dir=./python3_version -W -n ./
</code></pre><p>This will consider all <code>.py</code> files in current directory and upgrade it for python3.x then put all the changes into python3_version directory. Take a look at files in <strong>python3_version</strong>.
Once satisfied with the changes remove that directory <code>rm -rf ./python3_version</code></p>
<p>Now, replace the files with new code</p>
<pre tabindex=0><code>2to3 --output-dir=./ -W -n ./
</code></pre><p>For upgrading requirements/dependencies, I would suggest you to create a new virtual environment first.
I use <a href=https://virtualenvwrapper.readthedocs.io/en/latest/>virtual environment wrapper</a>
</p>
<pre tabindex=0><code>mkvirtualenv --python=/usr/local/bin/python3.6 project_python3
</code></pre><p>Create a temp file file with all requirements without specifying the version</p>
<pre tabindex=0><code>vim /tmp/req
</code></pre><p>After adding all requirements to temp file, execute following</p>
<pre tabindex=0><code>pip3 install -r /tmp/req
</code></pre><p>Now, your new environment is ready for testing.
Perform all possible tests on your upgraded codebase and then add few more test cases :laughing:</p>
<p>Execute following to update your requirements.txt with correct version numbers</p>
<pre tabindex=0><code>pip freeze &gt; path_to_requirements
</code></pre><hr>
<h3 id=make-sure-to-use-version-control-for-project-and-new-virtual-environment-while-upgrading-the-requirements>Make sure to use version control for project and new virtual environment while upgrading the requirements.<a hidden class=anchor aria-hidden=true href=#make-sure-to-use-version-control-for-project-and-new-virtual-environment-while-upgrading-the-requirements>#</a></h3>
<p>Welcome to python3 world!</p>
<head>
<style>.center{font-size:60px;line-height:2;vertical-align:middle;text-align:center}</style>
</head>
<div class=center>üèÜ</div>
</div>
<footer class=post-footer>
<nav class=paginav>
<a class=prev href=https://pranavgore09.github.io/blogs/ffmpeg_operations/>
<span class=title>¬´ Prev Page</span>
<br>
<span>Video File Operations with FFmpeg</span>
</a>
<a class=next href=https://pranavgore09.github.io/blogs/ffmpeg_mac/>
<span class=title>Next Page ¬ª</span>
<br>
<span>Record Screen and Audio using FFmpeg on macOS</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://pranavgore09.github.io/>Pranav Gore</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
</body>
</html>